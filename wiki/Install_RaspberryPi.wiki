#summary Installation for Raspberry Pi and like

= Introduction =

Instructions how to install the needed libraries and test DRControl utility to control Denkovi USB Relay board.

= Tested on =

  * [http://www.raspberrypi.org/downloads Raspberry Pi with Raspbian 3.2.27+]
  * Ubuntu 12.04 Desktop via VMWare (on Mac OSX)
  * [http://denkovi.com/product/44/usb-four-4-relay-output-module-board-for-home-automation.html Denkovi 4 USB Relay Board]

= Python Libraries =

There are two libraries that are needed to interface the relay board.

  * Python-FTDI
  * PyLibFTDI, at least version 0.11pre for full functionality

== Library install ==

Please note, that as of 27-DEC-2012, the pylibftdi that comes with the PIP install will not be the 0.11pre version, and therefor the alternative install procedure (below) should be used.

Install Python-FTDI library

{{{
# sudo apt-get install python-ftdi
}}}

Install the FTDI wrapper PyLibFTDI usinf PIP.

{{{
# sudo pip install pylibftdi
}}}

If you don't have PIP installed you can install it easily by following command

{{{
# sudo apt-get install python-pip
}}}

== Alternative library install ==

This installation will get the latest pylibftdi directly from the sources. You will need Mercurial for this.

Install Python-FTDI library

{{{
# sudo apt-get install python-ftdi
}}}

If you don't have Mercurial installed, then install it as following

{{{
# sudo apt-get install mercurial
}}}

Get sources and install latest pylibftdi from sources

{{{
# sudo hg clone https://bitbucket.org/codedstructure/pylibftdi /tmp/pylibftdi
# cd /tmp/pylibftdi
# sudo /tmp/pylibftdi/setup.py install
# cd /tmp
# rm -rf /tmp/pylibftdi
}}}

== pylibftdi Upgrade ==

If you have installed the pylibftdi with PIP and now want to upgrade it to latest "pre" release version from the sources, then first uninstall existing with "pip uninstall"

{{{
# sudo pip uninstall pylibftdi
}}}

And after that use the "alternative install" procedure above to get the latest pylibftdi.

== Library Test ==

If you have the relay board connected, then you can run a quick test by entering following command

{{{
# python -m pylibftdi.examples.list_devices
}}}

Example printout

{{{
root@raspberrypi:~# python -m pylibftdi.examples.list_devices
FTDI:FT245R USB FIFO:A6VV5PHY
root@raspberrypi:~# 
}}}

Note that this command will list all FTDI devices, so if you have more of them, then it will be listed as well.

= DRControl install =

The DRControl does not need that much installation, as it is only one python file that can be executed from user chosen directory. It can be downloaded from download page here, or then fetched directly from the SVN repository.

Download from download page

{{{
# wget http://drcontrol.googlecode.com/files/drcontrol.0.1.zip
# unzip drcontrol.0.1.zip
}}}

Or from the SVN directly (Note, that this version might not ve fully tested or working)

{{{
# wget http://drcontrol.googlecode.com/svn/trunk/drcontrol.py
}}}